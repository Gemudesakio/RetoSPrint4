<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Episodes</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300i,400" rel="stylesheet">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Favicon -->
    <link rel="icon" href="./imagenes/favicon.png" type="image/x-icon">
    
    <!-- Estilos personales -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="icon" href="../assets/imagenes/favicon.jpg" type="image/png">
  
    
   </head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="../index.html"><img id="logo" src="../assets/imagenes/logo.png" alt="LOGO"></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                <ul class="navbar-nav mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="../index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="./characters.html">Characters</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="./location.html">Location</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Episode</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="./stats.html">Stats</a>
                  </li>          
                </ul>
              </div>
            </div>
          </nav>
    </header>
    <main id="appEpisodios">
      <div class="container-fluid">
        <h1 class="my-4 text-center text-white">Rick and Morty Episodes</h1>
        <div class="container d-flex flex-wrap justify-content-center">

          <div v-for="episode in episodes" class="card">
            <img :src="episode.image || '../assets/imagenes/prueba.jpg'" class="card-img-top" alt="Episode Image">
            <div class="card-body d-flex flex-column align-items-center gap-2">
                <h2 class="card-title fw-bold text-white text-center">{{episode.name}}</h2>
                <!-- descripcion del episodio-->
                <p class="card-text fw-bold text-white text-center">
                    The episode <strong>"{{ episode.name }}"</strong>, part of {{ episode.episode.split('E')[0].replace('S', 'season ') }} and being the number {{ episode.episode.split('E')[1] }} episode, premiered on {{ new Date(episode.air_date).toLocaleDateString() }}. This episode was created on {{ new Date(episode.created).toLocaleDateString() }}.
                </p>
        
               
                <div class="bar">
                    <div class="emptybar"></div>
                    <div class="filledbar"></div>
                </div>
        
             
                <button class="btn btn-primary" @click="fetchCharacters(episode)" data-bs-toggle="modal" data-bs-target="#charactersModal">
                    View Characters
                </button>
            </div>
        </div>
        
        
        

        <!-- <div class="text-center my-4">
          <button id="load-more" class="btn btn-primary">Load More Episodes</button>
        </div> -->
      </div>

 
  <!-- Modal para mostrar personajes -->
    <div class="modal fade" id="charactersModal" tabindex="-1" role="dialog" aria-labelledby="charactersModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
              
               <h5 class="modal-title fw-bold text-center w-100" id="charactersModalLabel">{{ selectedEpisode? selectedEpisode.name + ', Characters' : 'Characters' }}</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <ul id="characters-list" class="list-group">
                      <li v-for="character in characters" class="list-group-item">
                          <img :src="character.image" alt="" class="img-thumbnail me-2" style="width: 50px; height: 50px;">
                          {{ character.name }}
                      </li>
                  </ul>
              </div>
          </div>
      </div>
    </div>

    </main>

    <footer class="bg-dark text-white p-3 mt-auto">
        <div class="container">
            <div class="row">
                <div class="col text-center">
                    <p class="mb-0">&copy; 2024 Misraim Hern√°ndez, Luis Eduardo Rivera Martos, Yamid Barrera, Joan Sebastian Vargas, Jose Manuel Cerquera Vargas. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!--vue-->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!--Script de index-->
    <script src="../js/episode.js"></script>
</body>
</html>
